import{d as j,u as G,a as K,s as J,r as m,n as Q,b as W,c as X,o as Y,E as f,e as A,f as a,g as t,h as r,w as l,i as n,j as g,k as Z,l as c,m as B,p as U,q as ee,F as N,t as D,v as te,x as oe,y as le,z as ae,A as se,B as E,C as b,D as H,G as _,H as ne,I as ie,_ as re}from"./index-CtaRNcZl.js";const de={class:"home"},ue={class:"hero-section"},ce={class:"hero-content"},pe={class:"hero-title"},fe={class:"hero-actions"},_e={class:"features-section"},ve={class:"feature-title"},me={class:"feature-description"},ge={class:"stats-section"},be={class:"stat-card"},ye={class:"stat-content"},ke={class:"stat-value"},Ce={class:"stat-label"},he=j({__name:"Home",setup(Ve){const I=Z(),w=G(),y=K(),{config:P}=J(w),p=m(!1),s=m({provider:"",base_url:"",api_key:"",model_name:""}),k=m(!1),C=m([{label:"我的小说",value:"0",icon:Q,color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{label:"创作字数",value:"0",icon:W,color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},{label:"已发布",value:"0",icon:X,color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}]);Y(async()=>{s.value={...P.value};try{await y.fetchNovels(),C.value[0].value=y.novels.length.toString();const d=y.novels.filter(e=>e.status==="PUBLISHED").length;C.value[2].value=d.toString()}catch{f.error("加载统计信息失败")}});const $=()=>{w.updateConfig(s.value),f.success("AI 配置已保存"),p.value=!1},L=async()=>{var d,e,u;k.value=!0;try{const i=await ie.post("/api/ai/test-config",{provider:s.value.provider,base_url:s.value.base_url||void 0,api_key:s.value.api_key||void 0,model_name:s.value.model_name||void 0});f.success(((d=i.data)==null?void 0:d.message)||"连接成功")}catch(i){f.error(((u=(e=i.response)==null?void 0:e.data)==null?void 0:u.detail)||i.message||"连接失败")}finally{k.value=!1}},M=d=>{d.route?I.push(d.route):f.info("请先创建或选择一个小说，然后在小说详情页访问此功能")},O=[{name:"小说管理",description:"创建和管理你的小说作品",icon:U,color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",status:"active",route:"/novels"},{name:"角色管理",description:"塑造丰富立体的人物形象（需先选择小说）",icon:te,color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",status:"coming",hint:"请先进入具体小说",route:"/novels"},{name:"情节架构",description:"设计引人入胜的故事脉络（需先选择小说）",icon:oe,color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",status:"coming",hint:"请先进入具体小说",route:"/novels"},{name:"世界观设定",description:"构建独特的小说世界（需先选择小说）",icon:le,color:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",status:"coming",hint:"请先进入具体小说",route:"/novels"},{name:"章节蓝图",description:"详细规划每个章节内容（需先选择小说）",icon:ae,color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",status:"coming",hint:"请先进入具体小说",route:"/novels"},{name:"AI 内容生成",description:"智能辅助创作精彩内容（需先选择小说）",icon:se,color:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",status:"coming",hint:"请先进入具体小说",route:"/novels"},{name:"灵感模式",description:"对话式引导，快速构建雏形",icon:B,color:"linear-gradient(135deg, #30cfd0 0%, #330867 100%)",status:"active",route:"/inspiration"}];return(d,e)=>{const u=n("el-icon"),i=n("el-button"),x=n("el-tag"),R=n("el-card"),z=n("el-col"),S=n("el-row"),h=n("el-option"),T=n("el-select"),v=n("el-form-item"),V=n("el-input"),q=n("el-form"),F=n("el-dialog");return c(),A("div",de,[a("div",ue,[a("div",ce,[a("h1",pe,[t(u,{size:48,class:"title-icon"},{default:l(()=>[t(g(B))]),_:1}),e[8]||(e[8]=r(" 欢迎使用 AI 小说创作平台 ",-1))]),e[11]||(e[11]=a("p",{class:"hero-subtitle"},"通过 AI 辅助，让创作更高效、更有趣",-1)),a("div",fe,[t(i,{type:"primary",size:"large",onClick:e[0]||(e[0]=o=>g(I).push("/novels")),round:""},{default:l(()=>[t(u,null,{default:l(()=>[t(g(U))]),_:1}),e[9]||(e[9]=r(" 开始创作 ",-1))]),_:1}),t(i,{size:"large",onClick:e[1]||(e[1]=o=>p.value=!0),round:"",plain:""},{default:l(()=>[t(u,null,{default:l(()=>[t(g(ee))]),_:1}),e[10]||(e[10]=r(" AI 配置 ",-1))]),_:1})])])]),a("div",_e,[e[12]||(e[12]=a("h2",{class:"section-title"},"强大的创作工具",-1)),t(S,{gutter:24,class:"features-grid"},{default:l(()=>[(c(),A(N,null,D(O,o=>t(z,{xs:24,sm:12,md:8,key:o.name},{default:l(()=>[t(R,{class:"feature-card",shadow:"hover",onClick:Ae=>M(o)},{default:l(()=>[a("div",{class:"feature-icon",style:E({background:o.color})},[t(u,{size:40},{default:l(()=>[(c(),b(H(o.icon)))]),_:2},1024)],4),a("h3",ve,_(o.name),1),a("p",me,_(o.description),1),t(x,{type:o.status==="active"?"success":"info",size:"small"},{default:l(()=>[r(_(o.status==="active"?"可用":"需先选择小说"),1)]),_:2},1032,["type"])]),_:2},1032,["onClick"])]),_:2},1024)),64))]),_:1})]),a("div",ge,[t(S,{gutter:24},{default:l(()=>[(c(!0),A(N,null,D(C.value,o=>(c(),b(z,{xs:24,sm:8,key:o.label},{default:l(()=>[a("div",be,[a("div",{class:"stat-icon",style:E({background:o.color})},[t(u,{size:32},{default:l(()=>[(c(),b(H(o.icon)))]),_:2},1024)],4),a("div",ye,[a("div",ke,_(o.value),1),a("div",Ce,_(o.label),1)])])]),_:2},1024))),128))]),_:1})]),t(F,{modelValue:p.value,"onUpdate:modelValue":e[7]||(e[7]=o=>p.value=o),title:"AI 配置",width:"600px"},{footer:l(()=>[t(i,{onClick:e[6]||(e[6]=o=>p.value=!1)},{default:l(()=>[...e[16]||(e[16]=[r("取消",-1)])]),_:1}),t(i,{onClick:L,loading:k.value},{default:l(()=>[...e[17]||(e[17]=[r("测试连接",-1)])]),_:1},8,["loading"]),t(i,{type:"primary",onClick:$},{default:l(()=>[...e[18]||(e[18]=[r("保存配置",-1)])]),_:1})]),default:l(()=>[t(q,{model:s.value,"label-width":"100px"},{default:l(()=>[t(v,{label:"提供商"},{default:l(()=>[t(T,{modelValue:s.value.provider,"onUpdate:modelValue":e[2]||(e[2]=o=>s.value.provider=o),placeholder:"选择AI提供商"},{default:l(()=>[t(h,{label:"OpenAI",value:"openai"},{default:l(()=>[e[14]||(e[14]=a("span",null,"OpenAI",-1)),t(x,{type:"success",size:"small",style:{float:"right"}},{default:l(()=>[...e[13]||(e[13]=[r("推荐",-1)])]),_:1})]),_:1}),t(h,{label:"Anthropic (Claude)",value:"anthropic"}),t(h,{label:"自定义API",value:"custom"})]),_:1},8,["modelValue"])]),_:1}),s.value.provider==="custom"?(c(),b(v,{key:0,label:"Base URL"},{default:l(()=>[t(V,{modelValue:s.value.base_url,"onUpdate:modelValue":e[3]||(e[3]=o=>s.value.base_url=o),placeholder:"例如: https://api.example.com"},null,8,["modelValue"])]),_:1})):ne("",!0),t(v,{label:"API Key"},{default:l(()=>[t(V,{modelValue:s.value.api_key,"onUpdate:modelValue":e[4]||(e[4]=o=>s.value.api_key=o),type:"password",placeholder:"输入你的API密钥","show-password":""},null,8,["modelValue"])]),_:1}),t(v,{label:"模型名称"},{default:l(()=>[t(V,{modelValue:s.value.model_name,"onUpdate:modelValue":e[5]||(e[5]=o=>s.value.model_name=o),placeholder:"例如: gpt-4, claude-3-opus-20240229"},null,8,["modelValue"]),e[15]||(e[15]=a("div",{style:{"font-size":"12px",color:"#999","margin-top":"5px"}},[a("strong",null,"OpenAI:"),r(" gpt-4, gpt-3.5-turbo"),a("br"),a("strong",null,"Anthropic:"),r(" claude-3-opus-20240229, claude-3-sonnet-20240229 ")],-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),we=re(he,[["__scopeId","data-v-a9c33520"]]);export{we as default};
