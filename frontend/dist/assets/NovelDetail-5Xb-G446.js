import{d as G,a as M,Y as y,J as O,z as V,v as N,x as H,y as U,m as j,o as q,E as x,P as J,Q,j as r,e as m,C as b,H as k,f as l,g as e,w as t,k as W,i as d,G as i,h as c,l as u,Z as Y,W as Z,A as E,F as K,t as X,B as ee,D as te,_ as ae}from"./index-CtaRNcZl.js";const le={class:"novel-detail"},ne={key:0,class:"detail-container"},oe={class:"detail-header"},se={class:"header-content"},ie={class:"novel-title"},re={class:"novel-meta"},de={key:0,class:"meta-item"},ue={key:1,class:"meta-item"},ce={class:"card-header"},_e={class:"description-text"},pe={class:"action-section"},ve={class:"tool-name"},fe={class:"tool-description"},me=G({__name:"NovelDetail",setup(ge){const $=O(),v=W(),g=M(),_=y(()=>$.params.id),n=y(()=>g.currentNovel),I=y(()=>[{name:"章节蓝图",description:"详细规划章节内容",icon:V,color:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",route:`/novels/${_.value}/chapters`,available:!0},{name:"角色管理",description:"塑造丰富立体的人物",icon:N,color:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",route:`/novels/${_.value}/characters`,available:!0},{name:"情节架构",description:"设计引人入胜的故事脉络",icon:H,color:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",route:`/novels/${_.value}/plot`,available:!0},{name:"世界观设定",description:"构建独特的小说世界",icon:U,color:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",route:`/novels/${_.value}/world`,available:!0},{name:"内容编辑",description:"开始创作你的小说内容",icon:j,color:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",route:`/novels/${_.value}/editor`,available:!0}]);q(async()=>{try{await g.fetchNovel(_.value)}catch{x.error("加载小说信息失败")}});function L(o){o.available?v.push(o.route):x.info("该功能即将推出，敬请期待")}function R(o){return{DRAFT:"info",IN_PROGRESS:"warning",COMPLETED:"success",PUBLISHED:"primary"}[o]??"info"}function B(o){return{DRAFT:"草稿",IN_PROGRESS:"进行中",COMPLETED:"已完成",PUBLISHED:"已发布"}[o]??o}function C(o){return o?{fantasy:"奇幻","sci-fi":"科幻",modern:"现代",historical:"历史",mystery:"悬疑",romance:"言情",wuxia:"武侠",other:"其他"}[o]??o:""}function D(o){return new Date(o).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}return(o,a)=>{const p=d("el-icon"),h=d("el-button"),w=d("el-tag"),f=d("el-descriptions-item"),P=d("el-descriptions"),S=d("el-card"),T=d("el-col"),z=d("el-row"),A=d("el-empty"),F=Q("loading");return J((u(),m("div",le,[n.value?(u(),m("div",ne,[l("div",oe,[e(h,{onClick:a[0]||(a[0]=s=>r(v).push("/novels")),circle:""},{default:t(()=>[e(p,null,{default:t(()=>[e(r(Y))]),_:1})]),_:1}),l("div",se,[l("h1",ie,i(n.value.title),1),l("div",re,[e(w,{type:R(n.value.status),size:"large"},{default:t(()=>[c(i(B(n.value.status)),1)]),_:1},8,["type"]),n.value.author?(u(),m("span",de,[e(p,null,{default:t(()=>[e(r(N))]),_:1}),c(i(n.value.author),1)])):k("",!0),n.value.genre?(u(),m("span",ue,[e(p,null,{default:t(()=>[e(r(Z))]),_:1}),c(i(C(n.value.genre)),1)])):k("",!0)])])]),e(S,{class:"info-card",shadow:"never"},{header:t(()=>[l("div",ce,[a[6]||(a[6]=l("span",null,"基本信息",-1)),l("div",null,[e(h,{class:"mr-8",text:"",onClick:a[1]||(a[1]=s=>r(v).push({path:"/inspiration",query:{novelId:n.value.id}}))},{default:t(()=>[e(p,null,{default:t(()=>[e(r(E))]),_:1}),a[4]||(a[4]=c(" AI 快速完善 ",-1))]),_:1}),e(h,{type:"primary",text:"",onClick:a[2]||(a[2]=s=>r(v).push(`/novels/${n.value.id}/editor`))},{default:t(()=>[e(p,null,{default:t(()=>[e(r(E))]),_:1}),a[5]||(a[5]=c(" 编辑信息 ",-1))]),_:1})])])]),default:t(()=>[e(P,{column:2,border:""},{default:t(()=>[e(f,{label:"作者","label-align":"right"},{default:t(()=>[l("span",null,i(n.value.author||"未设置"),1)]),_:1}),e(f,{label:"类型","label-align":"right"},{default:t(()=>[l("span",null,i(C(n.value.genre)||"未设置"),1)]),_:1}),e(f,{label:"创建时间","label-align":"right"},{default:t(()=>[l("span",null,i(D(n.value.created_at)),1)]),_:1}),e(f,{label:"最后更新","label-align":"right"},{default:t(()=>[l("span",null,i(D(n.value.updated_at)),1)]),_:1}),e(f,{label:"简介",span:2,"label-align":"right"},{default:t(()=>[l("div",_e,i(n.value.description||"暂无简介"),1)]),_:1})]),_:1})]),_:1}),l("div",pe,[a[7]||(a[7]=l("h2",{class:"section-title"},"创作工具",-1)),e(z,{gutter:24},{default:t(()=>[(u(!0),m(K,null,X(I.value,s=>(u(),b(T,{xs:24,sm:12,md:8,key:s.name},{default:t(()=>[e(S,{class:"tool-card",shadow:"hover",onClick:he=>L(s)},{default:t(()=>[l("div",{class:"tool-icon",style:ee({background:s.color})},[e(p,{size:32},{default:t(()=>[(u(),b(te(s.icon)))]),_:2},1024)],4),l("h3",ve,i(s.name),1),l("p",fe,i(s.description),1),e(w,{type:s.available?"success":"info",size:"small"},{default:t(()=>[c(i(s.available?"可用":"即将推出"),1)]),_:2},1032,["type"])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1})])])):r(g).loading?k("",!0):(u(),b(A,{key:1,description:"小说不存在"},{default:t(()=>[e(h,{type:"primary",onClick:a[3]||(a[3]=s=>r(v).push("/novels"))},{default:t(()=>[...a[8]||(a[8]=[c("返回列表",-1)])]),_:1})]),_:1}))])),[[F,r(g).loading]])}}}),be=ae(me,[["__scopeId","data-v-f9b2119e"]]);export{be as default};
